#!/usr/bin/execlineb -S0

##
## cont-init.d: one-time init scripts
##

if { s6-echo "[cont-init.d] executing container initialization scripts..." }
if
{
  pipeline { s6-ls -0 -- /etc/cont-init.d }
  pipeline { s6-sort -0 -- }
  forstdin -0 -- i
  import -u i
  if { s6-echo -n -- "[cont-init.d] executing ${i}... " }
  foreground { with-contenv /etc/cont-init.d/${i} }
  import -u ? s6-echo -- " ... exited ${?}"
}
if { s6-echo -- "[cont-init.d] done." }
$@
